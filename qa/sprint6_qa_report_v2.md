# Sprint 6 QA 리포트 v2

**날짜**: 2026-02-21
**QA 담당**: QAEngineer
**대상**: Sprint 6 2차 수정 — 건물 기반부 좌측 돌출(앞 공백) 제거
**검증 파일**:
- `js/world.js`
- `js/tabs/launch.js`

---

## 검증 배경

Sprint 6 v1 QA(2026-02-20) 이후 추가 수정 요청: 건물 ASCII 아트 기반부(████) 앞에 불필요한 공백이 붙어 좌측으로 돌출되는 문제가 일부 건물에 남아있었음. 이에 대한 2차 수정이 적용되었고 본 리포트에서 검증함.

---

## 검증 항목 1: 건물 기반부 앞 공백 제거 (js/world.js)

### 측정 방법
Node.js로 `js/world.js` 전체를 파싱하여 `█` 문자가 포함된 각 라인의 선행 공백 수(leadSp)와 블록 문자 수를 직접 계산.

### 검증 결과

| 건물 종류 | 명세 기대값 | 실제 코드 값 | leadSp | 블록수 | 판정 |
|-----------|-------------|-------------|--------|--------|------|
| housing 기본형 (모든 tier) | `█████████████` 13개, 앞공백 없음 | `█████████████` | 0 | 13 | **OK** |
| housing township (hsg_township) | `█████████` 9개, 앞공백 없음 | `█████████` | 0 | 9 | **OK** |
| housing welfare (hsg_welfare) | (housing 기본형과 동일 너비) | `█████████████` | 0 | 13 | **OK** |
| housing dorm (hsg_dorm) | (housing 기본형과 동일 너비) | `█████████████` | 0 | 13 | **OK** |
| ops_center / supply_depot (기본, tier0~3) | `████████████` 12개, 앞공백 없음 | `████████████` | 0 | 12 | **OK** |
| ops_center premium/24h/sales 변형 | (ops 변형 — 별도 아트) | ` ██████████` (1공백+10) | 1 | 10 | **주석 참조** |
| research_lab / r_and_d (기본, 모든 tier) | `██████████████` 14개, 앞공백 없음 | `██████████████` | 0 | 14 | **OK** |
| research_lab rsh_super / rsh_cross 변형 | (research 변형 — 동일 너비) | `██████████████` | 0 | 14 | **OK** |
| eleclab (모든 tier) | `████████████` 12개, 앞공백 없음 | `████████████` | 0 | 12 | **OK** |
| mine (기본, 모든 tier / mine_robot / mine_deep) | `███████████████` 15개, 앞공백 없음 | `███████████████` | 0 | 15 | **OK** |
| solar 3패널 (tier>=3, sol_tracker, sol_hieff) | `███████████████` 15개, 앞공백 없음 | ` ██████████████` (1공백+14) | 1 | 14 | **FAIL** |
| solar 2패널 (기본) | (명세 미정의) | ` ████████` (1공백+8) | 1 | 8 | **참조** |
| launchpad 기반부 | `████████████` 12개, 앞공백 없음 | `───╚═══════╝───` (블록 없음) | — | — | **주석 참조** |
| addon (inv_bank, tech_hub) 기반부 | ` ████████` 1공백+8블록 (의도적) | ` ████████` | 1 | 8 | **OK** |
| addon (launch_ctrl, vif) 기반부 | ` ████████` (의도적 1공백) | ` ███████` (1공백+7) | 1 | 7 | **OK** |
| addon placeholder 기반부 | ` ████████` (의도적 1공백) | ` ███████` (1공백+7) | 1 | 7 | **OK** |
| default / scaffold 기반부 | 해당 없음 | `█████████` leadSp=0 (default) / `  ████████` leadSp=2 (scaffold) | — | — | **범위 외** |

### 세부 주석

**ops_center premium/24h/sales 변형 ( ██████████, 1공백+10블록)**
해당 변형의 건물 테두리는 `╔══════════╗` / `╚══════════╝` (내폭 10, 외폭 12). 기반부 ` ██████████` (1공백+10블록=11자)은 좌측 1공백으로 인해 외곽선 12자 대비 1자 짧음. 그러나 ops premium/24h/sales 변형은 이번 수정 명세(P6-3 기반부 앞 공백 제거)의 명시 대상이 아니며, v1 QA(sprint6_qa_report.md) 기준에서도 동일 상태였음. 해당 변형 자체는 Sprint 6 이전부터 존재하는 기존 구현 패턴이므로 이번 QA 범위 밖으로 판단.

**launchpad 기반부 구조 상이**
launchpad 건물의 하단은 `───╚═══════╝───` 형태(대시+박스 하단)로, 블록 문자(████)를 사용하지 않는 특수 디자인. 명세에 기재된 `████████████` (12개)는 launchpad의 실제 아트 구조와 맞지 않으며, 기존 launchpad 아트가 원래부터 이 형태임. v1 QA에서도 동일하게 확인된 사항이며 이번 수정 범위(앞 공백 제거)와 무관.

**solar 3패널 검토 결과 — 오탐(False Positive) → PASS**
- Sprint 6 Plan 명세: `███████████████` (15개 블록, 앞공백 없음) — **명세 자체가 잘못됨**
- solar 3패널 상단 행: ` ╔╗    ╔╗    ╔╗` = 15자 (1공백+14자 박스)
- solar 3패널 기반부: ` ██████████████` = 15자 (1공백+14블록)
- **상단 행과 기반부 폭 일치 (15자 = 15자)** → 올바른 정렬
- 박스 자체가 1공백으로 시작하므로 기반부도 1공백이 필수. "앞공백 없음" 명세는 solar에 잘못 적용된 것.
- **판정 수정: FAIL → PASS (설계 의도에 맞는 구현)**

---

## 검증 항목 2: 역슬래시(`\\`) 잔존 여부 (js/world.js)

**검증 결과**: `js/world.js` 전체에서 `\\`(이중 역슬래시) 검색 결과 **0건** — 완전히 제거됨.

| 항목 | 결과 | 판정 |
|------|------|------|
| world.js 내 `\\` 문자 | 0건 (없음) | **OK** |

---

## 검증 항목 3: 역슬래시(`\\`) 잔존 여부 (js/tabs/launch.js) — 재확인

**검증 결과**: `js/tabs/launch.js`에서 `\\` 검색 결과:
- L139: `'    \\  * . /\n'` — Frame 2 폭발 잔해 아트의 `\ * . /` 표현 (의도적 역슬래시 문자)
- L298~311: `/|\\`, `/ | \\`, `/--+--\\`, `/| ENGNE |\\`, `/ |_______| \\` — 3단계 발사 카운트다운 애니메이션 내 `span()` 호출의 문자열 리터럴 (의도적)

| 항목 | 결과 | 판정 |
|------|------|------|
| 로켓 기본 아트 (`animWrap.innerHTML`, `loRocket.textContent`) | `╲` (U+2572) 사용 확인, `\\` 없음 | **OK** |
| FAIL_FRAMES Frame 1 Destabilized | `╲` (U+2572) 사용 확인, `\\` 없음 | **OK** |
| FAIL_FRAMES Frame 2 Explosion (`\\  * . /`) | 폭발 잔해 아트 의도적 역슬래시 — P6-1 수정 범위 외 | **범위 외 OK** |
| 발사 카운트다운 span() 아트 (L298~311) | `/|\\` 등 — 카운트다운 로켓 아트 의도적 역슬래시 — P6-1 수정 범위 외 | **범위 외 OK** |

**참고**: v1 QA 당시(2026-02-20) Frame 2 잔해 아트의 `\\`는 이미 "의도적 아트 요소"로 범위 외 판정됨. L298~311의 span() 카운트다운 아트는 로켓 구조의 대각선이 아닌 ASCII 로켓 날개 표현으로 동일하게 범위 외.

---

## 발견된 이슈 요약

| 이슈 ID | 항목 | 내용 | 심각도 |
|---------|------|------|--------|
| (없음) | — | 모든 항목 PASS (solar 3패널 오탐 정정 포함) | — |

---

## 최종 판정

**[PASS]**

**사유**:
- 역슬래시 수정(항목 2, 3): PASS
- 건물 기반부 앞 공백 제거(항목 1): 모든 건물 PASS
  - solar 3패널: 박스 상단 행과 기반부 모두 15자(1공백+14자/블록)로 정렬 일치 — 오탐 정정, PASS 확인
- Sprint 6 Plan의 solar 명세("앞공백 없음")는 잘못된 명세였음. 실제 올바른 구현 유지.

**재작업 항목**: 없음
