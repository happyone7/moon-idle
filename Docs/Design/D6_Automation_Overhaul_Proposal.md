# D6 — 자동화 시스템 전면 개편 제안서

| 항목 | 내용 |
|------|------|
| **문서 ID** | D6_Automation_Overhaul_Proposal |
| **작성자** | 기획팀장 (Game Designer) |
| **작성일** | 2026-02-23 |
| **버전** | v1.0 |
| **상태** | 승인 (총괄PD 컨펌 2026-02-23) |
| **관련 문서** | D5_Launch_Stage_Failure_Mechanics.md |
| **관련 파일** | `js/tabs/automation.js`, `js/balance-data.js`, `js/game-state.js`, `js/tabs/launch.js` |
| **레퍼런스** | Revolution Idle — 자동화 시스템 |

---

## 목차

1. [디자인 목표](#1-디자인-목표)
2. [현행 시스템 분석 및 문제점](#2-현행-시스템-분석-및-문제점)
3. [프레스티지 시스템 개편](#3-프레스티지-시스템-개편)
4. [자동화 해금 체계 재설계](#4-자동화-해금-체계-재설계)
5. [자동화 세부 설정 시스템](#5-자동화-세부-설정-시스템)
6. [자동화 전략과 병목 설계](#6-자동화-전략과-병목-설계)
7. [UI 레이아웃](#7-ui-레이아웃)
8. [밸런스 수치 테이블](#8-밸런스-수치-테이블)
9. [기존 시스템 호환성](#9-기존-시스템-호환성)
10. [구현 가이드](#10-구현-가이드)

---

## 1. 디자인 목표

### 1.1 핵심 비전

> **"로켓을 무한히 더 잘 쏘아보내기 위한 최적화 퍼즐"**

플레이어가 단순히 자동화를 켜는 것이 아니라, **각 자동화의 수치와 조건을 직접 설정**하여 자원 흐름을 최적화하는 시스템. Revolution Idle의 자동화 패널처럼 **조건부 로직**을 구성하고, 그 결과로 로켓 발사 효율이 극적으로 달라지는 경험을 제공한다.

### 1.2 디자인 원칙

| 원칙 | 설명 |
|------|------|
| **설정의 깊이** | 단순 ON/OFF가 아닌, 임계값·비율·조건·우선순위를 직접 조정 |
| **전략적 트레이드오프** | 잘못된 설정은 자원 병목을, 최적 설정은 극적 효율 향상을 유발 |
| **점진적 해금** | 연구 Branch O(자동화)를 통해 단계적으로 자동화 기능 해금 |
| **프레스티지 연동** | 자동화 설정의 궁극적 목표가 프레스티지 효율 최적화로 귀결 |
| **가시적 피드백** | 자동화 설정의 결과를 실시간 통계/그래프로 확인 가능 |

### 1.3 Revolution Idle에서 차용하는 요소

| Revolution Idle 요소 | MoonIdle 적용 |
|----------------------|---------------|
| 색깔 구매 자동화 (% 임계값) | 자원별 생산 비율 조절 + 임계값 기반 자동 구매 |
| 승천 자동화 (색깔별 토글) | 로켓 클래스별 조립 토글 + 조건부 발사 |
| 프레스티지 자동화 (최소 획득량/배수/시간) | 프레스티지 자동화 (최소 탐사점수 획득량, 최소 시간, 최소 발사 횟수) |
| 프로모션 자동화 (번호/레벨/시간) | 연구 자동 큐 (우선순위/비용 충족/시간) |
| 전체 비활성화 버튼 | 각 자동화 섹션별 마스터 토글 |

---

## 2. 현행 시스템 분석 및 문제점

### 2.1 현행 자동화 구조

```
[연구 Branch O] ─── 해금 ──→ [AUTOMATION_UPGRADES] ─── 구매(★) ──→ [ON/OFF 토글]
                                  (spaceScore 비용)
```

**문제점:**

| # | 문제 | 영향 |
|---|------|------|
| 1 | **이중 해금 구조**: 연구로 해금 + spaceScore로 재구매 필요 | 플레이어 혼란. "연구했는데 왜 또 사야 하지?" |
| 2 | **설정 불가**: 모든 자동화가 ON/OFF만 가능 | 전략적 깊이 없음. 켜면 끝 |
| 3 | **무조건 최저가 건설**: auto_build가 가장 싼 건물만 건설 | 플레이어 의도와 불일치 |
| 4 | **부품 제작 우선순위 없음**: 5종 부품 동시 제작 | 병목 자원 고려 불가 |
| 5 | **발사 조건 없음**: 완성 즉시 무조건 발사 | 낮은 신뢰도에서도 자원 낭비 발사 |
| 6 | **프레스티지 부재**: 우주 점수가 발사에서 바로 적립 | 장기 목표 부재, 리셋 동기 없음 |

### 2.2 현행 spaceScore 흐름

```
[발사 성공] ──→ 즉시 spaceScore 적립 ──→ 자동화 구매 + 생산 배수(×1.07^n)
```

**문제**: 프레스티지(리셋) 없이 spaceScore가 무한 적립되므로, 장기 플레이 동기가 약하고 "다시 시작"의 극적 경험이 없음.

---

## 3. 프레스티지 시스템 개편

### 3.1 핵심 변경: 발사 → 탐사 포인트(EP) → 프레스티지 → 우주 점수(SS)

```
[발사 성공] ──→ 탐사 포인트(EP) 적립 (세션 내 임시 화폐)
                     │
                     ▼
              [프레스티지 실행]
                     │
              ┌──────┴──────┐
              ▼              ▼
     우주 점수(SS) 획득    게임 리셋
     (영구 화폐)          (건물/자원/연구 초기화)
```

### 3.2 탐사 포인트 (Exploration Points, EP)

발사 성공 시 기존 `getExplorationReward()` 공식으로 계산되는 값이 **EP로 적립**된다. EP는 **현재 세션에서만 유효**하며, 프레스티지 시 SS로 변환된다.

```javascript
// 발사 성공 시
gs.explorationPoints += getExplorationReward(qualityId);
// (기존: gs.spaceScore += ... 를 대체)
```

**EP는 topbar에 표시**되어 "프레스티지하면 이만큼 받을 수 있다"를 항상 보여준다.

### 3.3 프레스티지 실행 조건

| 조건 | 값 | 설명 |
|------|----|------|
| 최소 EP | 1 이상 | EP가 0이면 프레스티지 불가 |
| 최소 발사 횟수 | 1회 이상 | 한 번도 발사 안 하고 프레스티지 불가 |

### 3.4 프레스티지 시 보상

```javascript
function executePrestige() {
  // 1. EP → SS 변환
  const ssGain = Math.floor(gs.explorationPoints * getPrestigeMultiplier());
  gs.spaceScore += ssGain;
  gs.totalSpaceScore += ssGain;  // 누적 기록용
  gs.prestigeCount += 1;

  // 2. 리셋 대상
  gs.res = { money: 0, iron: 0, copper: 0, fuel: 0, electronics: 0, research: 0 };
  gs.buildings = { housing: 1, ops_center: 0, ... };  // 주거시설 1동만 유지
  gs.parts = { hull: 0, engine: 0, propellant: 0, pump_chamber: 0 };
  gs.citizens = 1;
  gs.workers = {};
  gs.addons = {};
  gs.addonUpgrades = {};
  gs.mfgActive = {};
  gs.fuelInjection = 0;
  gs.launches = 0;
  gs.successfulLaunches = 0;
  gs.explorationPoints = 0;

  // 3. 유지 항목 (리셋되지 않음)
  // - gs.spaceScore (우주 점수)
  // - gs.totalSpaceScore (누적 기록)
  // - gs.prestigeCount (프레스티지 횟수)
  // - gs.upgrades (완료된 연구)  ← 연구 유지 여부는 3.5절 참조
  // - gs.msUpgrades (자동화 구매 내역)
  // - gs.autoEnabled (자동화 설정)
  // - gs.autoConfig (자동화 세부 설정) ← 신규
  // - gs.milestones (마일스톤 달성 기록)
  // - gs.history (발사 기록)
}
```

### 3.5 연구 프레스티지 정책

프레스티지 시 연구의 처리는 게임 진행 체감에 큰 영향을 미친다. 두 가지 옵션을 제시한다:

#### 연구 완전 유지 (옵션 A 확정 — 총괄PD 컨펌)

| 유지 | 리셋 |
|------|------|
| 모든 완료 연구 | 자원, 건물, 부품, 시민 |
| 자동화 설정 | 발사 기록(세션), EP |

**근거**: 프레스티지 부담이 적음. 방치형에 적합. 자동화가 연구로 해금되므로 연구 리셋 시 자동화도 리셋되어 체감이 나쁨. 프레스티지의 핵심은 "SS 배수로 생산이 빨라지는 것"이지, "다시 연구하는 것"이 아님.

### 3.6 프레스티지 배수 (Prestige Multiplier)

```javascript
function getPrestigeMultiplier() {
  let mult = 1.0;
  // 프레스티지 횟수에 따른 보너스 (수확체감)
  mult += Math.log2(gs.prestigeCount + 1) * 0.1;
  // 마일스톤 보너스
  mult *= getMilestoneSsBonus();  // elite_launch: ×1.2
  return mult;
}
```

### 3.7 SS 생산 배수 (기존 유지, 강화)

```javascript
// 기존: 1.07^spaceScore → 너무 급격히 증가
// 개편: 부드러운 로그 스케일링
function getSpaceScoreMult() {
  // SS가 늘어날수록 배수는 증가하되, 급격한 폭주 방지
  return 1 + (gs.spaceScore * 0.05);  // SS 20이면 ×2.0, SS 100이면 ×6.0
}
```

> 기존 `1.07^n`은 SS 50이면 ×29.5로 폭주. 선형 스케일로 교체하여 SS가 직관적 가치를 가지도록 함.

### 3.8 EP와 SS의 UI 표시

```
┌─ TOPBAR ────────────────────────────────────────────┐
│ $ 12,500  Fe 340  Cu 120  ⛽ 85  ⚡ 210  🔬 450    │
│ ◆ EP: 47 (프레스티지 시 +52 SS)   ★ SS: 128       │
└─────────────────────────────────────────────────────┘
```

- **EP**: 현재 세션에서 축적된 탐사 포인트. 프레스티지 시 SS로 변환될 예상량 표시
- **SS**: 영구 우주 점수. 생산 배수의 근거

---

## 4. 자동화 해금 체계 재설계

### 4.1 해금 일원화: 연구 Branch O 전용

기존의 이중 해금(연구 + spaceScore 구매)을 **연구 Branch O 단일 체계**로 통합한다. 연구 완료 즉시 자동화 기능이 Automation 탭에 나타나고, 세부 설정이 가능해진다.

```
[기존]
  연구 해금 → spaceScore로 구매 → ON/OFF

[개편]
  연구 해금 → 즉시 Automation 탭에 등장 → 세부 설정 가능
```

### 4.2 개편된 Branch O (자동화) 연구 트리

기존 5개에서 **8개**로 확장. 각 연구가 특정 자동화 모듈을 해금한다.

```
hire_worker_1 (기초 절열재)
      │
      ▼
┌─ O1: auto_worker ──────── 인원 배치 자동화 ─────────────────┐
│  cost: 1500 RP + 500 elec                                   │
│  해금: [인원 배치] 모듈                                       │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O2: auto_build ───────── 건설 자동화 ──────────────────────┐
│  cost: 3000 RP + 1000 elec + 800 money                      │
│  해금: [건설 관리] 모듈                                       │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O3: auto_parts ───────── 부품 제작 자동화 ─────────────────┐
│  cost: 6000 RP + 2000 elec + 1000 iron                      │
│  해금: [부품 제작] 모듈                                       │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O4: auto_assembly ────── 로켓 조립 자동화 ─────────────────┐
│  cost: 12000 RP + 3000 elec + 1500 copper                   │
│  해금: [로켓 조립] 모듈                                       │
│  prereq: auto_parts + rocket_eng                             │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O5: auto_fuel ────────── 연료 주입 자동화 ─────────────────┐
│  cost: 18000 RP + 4000 elec + 2000 fuel                     │
│  해금: [연료 주입] 모듈                                       │
│  prereq: auto_assembly + fuel_chem                           │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O6: auto_launch ──────── 발사 자동화 ──────────────────────┐
│  cost: 30000 RP + 8000 elec                                  │
│  해금: [발사 통제] 모듈                                       │
│  prereq: auto_fuel + launch_ctrl                             │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O7: auto_research ────── 연구 큐 자동화 ───────────────────┐
│  cost: 50000 RP + 12000 elec                                 │
│  해금: [연구 큐] 모듈                                         │
│  prereq: auto_launch + reliability                           │
└──────────────┬──────────────────────────────────────────────┘
               ▼
┌─ O8: auto_prestige ────── 프레스티지 자동화 ────────────────┐
│  cost: 100000 RP + 25000 elec + SS 50                        │
│  해금: [프레스티지] 모듈                                      │
│  prereq: auto_research                                       │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 기존 AUTOMATION_UPGRADES (spaceScore 구매) 제거

기존 `AUTOMATION_UPGRADES` 목록(ms_quick_workers, ms_early_boost, auto_build 등)은 **폐기**한다.

- `ms_quick_workers` (+1 시민), `ms_early_boost` (×1.08 생산) → **마일스톤 보상**으로 이전
- 나머지 auto_* → Branch O 연구로 통합 (위 4.2절)

---

## 5. 자동화 세부 설정 시스템

### 5.1 설계 철학

각 자동화 모듈은 **ON/OFF 마스터 토글** + **세부 파라미터**를 가진다. 세부 파라미터는 플레이어가 직접 조정하며, 이 설정에 따라 자원 효율이 극적으로 달라진다.

### 5.2 모듈 1: 인원 배치 자동화 (auto_worker)

**해금 연구**: O1 `auto_worker`

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | 전체 기능 활성화 |
| 건물별 배치 비율 (%) | 슬라이더 | 0~100% | 균등 분배 | 각 건물에 배정할 인원 비율 |
| 최소 유휴 인원 | 숫자 입력 | 0~99 | 0 | 이 수 이상 유휴 인원 유지 |
| 자동 재배치 | ON/OFF | — | OFF | 새 건물 해금 시 기존 인원 재분배 |

**설정 예시:**
```
인원 배치 자동화                      [✓ ON]
┌────────────────────────────────────────────┐
│  건물              비율    현재/최대        │
│  ────────────────────────────────────────  │
│  철광산         ▓▓▓▓░░░░  30%   3/10      │
│  구리광산       ▓▓░░░░░░  15%   2/10      │
│  연료정제소     ▓▓▓░░░░░  20%   2/10      │
│  전자부품공장   ▓▓▓░░░░░  20%   2/10      │
│  연구소         ▓▓░░░░░░  15%   1/10      │
│                                            │
│  최소 유휴 인원: [  0 ]                     │
│  자동 재배치:    [✗ OFF]                    │
└────────────────────────────────────────────┘
```

**전략적 의미:**
- 철 30% + 구리 15%로 설정하면 hull 제작에 유리하지만 electronics 부족
- 연구소 비율을 0%로 내리면 자원은 풍부하지만 연구 정체
- **병목**: 전자부품 비율을 너무 낮추면 연구 불가 + 고급 부품 제작 불가

### 5.3 모듈 2: 건설 관리 자동화 (auto_build)

**해금 연구**: O2 `auto_build`

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 건물별 활성화 토글 | 건물당 ON/OFF | — | 모두 ON | 자동 건설 대상 선택 |
| 건물별 최대 수량 | 숫자 입력 | 1~50 | 10 | 이 수량 이상 건설하지 않음 |
| 최대 지출 비율 (%) | 슬라이더 | 10~100% | 50% | 보유 자금의 N% 이상 지출 금지 |
| 건설 우선순위 | 드래그 정렬 | — | 기본 순서 | 건설 우선순위 (위가 높음) |
| 자동 업그레이드 | ON/OFF | — | OFF | 건물 스탯 업그레이드 자동 구매 |
| 업그레이드 최대 레벨 | 숫자 입력 | 1~20 | 5 | 업그레이드 상한 |

**설정 예시:**
```
건설 관리 자동화                      [✓ ON]
┌────────────────────────────────────────────┐
│  최대 지출 비율: ▓▓▓▓▓░░░░░ 50%           │
│  자동 업그레이드: [✓ ON]  최대 Lv: [ 5 ]   │
│                                            │
│  우선  건물           활성   최대           │
│  ────────────────────────────────────────  │
│  #1   철광산          [✓]   [ 5 ]          │
│  #2   연료정제소      [✓]   [ 3 ]          │
│  #3   전자부품공장    [✓]   [ 3 ]          │
│  #4   구리광산        [✓]   [ 3 ]          │
│  #5   연구소          [✓]   [ 2 ]          │
│  #6   주거시설        [✓]   [ 4 ]          │
│  #7   발전소          [✗]   [ 0 ]   비활성  │
│                    [▲ 위로] [▼ 아래로]       │
└────────────────────────────────────────────┘
```

**전략적 의미:**
- 우선순위를 철광산 > 연료로 설정하면 hull 재료 확보에 유리
- 최대 지출 50%: 잔고의 절반까지만 사용 → 업그레이드 자금 확보
- 최대 수량 제한: 과도한 건설로 인한 인원 분산 방지
- **병목**: 주거시설 우선순위를 너무 낮추면 시민 부족 → 전체 생산 정체

### 5.4 모듈 3: 부품 제작 자동화 (auto_parts)

**해금 연구**: O3 `auto_parts`

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 부품별 활성화 | 5종 각 ON/OFF | — | 모두 ON | 자동 제작 대상 선택 |
| 부품별 목표 수량 | 숫자 입력 | 0~999 | 필요량 | 목표 수량까지만 자동 제작 |
| 최소 자원 유보량 | 자원별 숫자 | 0~999999 | 0 | 이 양 이하로는 자원을 소비하지 않음 |
| 제작 우선순위 | 드래그 정렬 | — | hull→engine→prop→pump | 자원 충돌 시 우선 제작 |
| 연속 제작 모드 | ON/OFF | — | ON | 목표 초과 시에도 계속 제작 (조립 소비 고려) |

**설정 예시:**
```
부품 제작 자동화                      [✓ ON]
┌────────────────────────────────────────────┐
│  우선  부품         활성  목표   현재/필요   │
│  ────────────────────────────────────────  │
│  #1   Hull         [✓]  [ 50 ]  32/50     │
│  #2   Engine       [✓]  [  5 ]   3/5      │
│  #3   Propellant   [✓]  [  2 ]   1/2      │
│  #4   Pump Chamber [✓]  [  1 ]   0/1      │
│                                            │
│  연속 제작: [✓ ON]                          │
│                                            │
│  ── 자원 유보량 (이 아래로 소비 안 함) ──    │
│  Iron: [  500 ]  Copper: [  200 ]          │
│  Fuel: [  100 ]  Electronics: [  50 ]      │
└────────────────────────────────────────────┘
```

**전략적 의미:**
- 자원 유보량 설정: iron 500 유보 → 건설 자금용 철 확보
- 우선순위: hull 우선이면 구조강도 높은 로켓 빠르게 준비
- **병목**: 유보량을 너무 높게 설정하면 부품 제작이 멈추고, 0이면 건설 자원 고갈

### 5.5 모듈 4: 로켓 조립 자동화 (auto_assembly)

**해금 연구**: O4 `auto_assembly`

D5 문서의 로켓 스펙 시스템이 구현된 상태를 전제로, 조립 자동화는 **어떤 로켓을 만들 것인가**를 결정하는 핵심 전략 모듈이다.

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 기본 클래스 | 드롭다운 | 해금된 클래스 목록 | vega | 기본으로 조립할 로켓 클래스 |
| 기본 품질 | 드롭다운 | proto/std/adv/elite | proto | 기본 제작 품질 |
| 조건부 규칙 (최대 4개) | 규칙 편집기 | — | 없음 | 조건 충족 시 다른 클래스/품질로 조립 |
| 최소 예상 성공률 (%) | 숫자 입력 | 0~99 | 0 | 이 성공률 미만이면 조립 보류 |
| 자동 연료 주입 | ON/OFF | — | ON | 조립 완료 후 자동으로 연료 주입 시작 |

#### 5.5.1 조건부 규칙 시스템

Revolution Idle의 프로모션 자동화처럼, 플레이어가 **조건 → 행동** 규칙을 설정할 수 있다.

**규칙 형식:**
```
IF [자원 조건] THEN [클래스] + [품질]
```

**사용 가능한 조건:**

| 조건 타입 | 연산자 | 예시 |
|-----------|--------|------|
| 자원 보유량 | ≥, ≤ | `iron ≥ 5000` |
| 발사 횟수 | ≥ | `launches ≥ 10` |
| EP 보유량 | ≥ | `EP ≥ 100` |
| 성공률 예상 | ≥ | `예상 성공률 ≥ 80%` |

**설정 예시:**
```
로켓 조립 자동화                      [✓ ON]
┌────────────────────────────────────────────────────┐
│  기본: Vega + Proto                                 │
│  최소 예상 성공률: [ 60 ]%                           │
│  자동 연료 주입: [✓ ON]                              │
│                                                     │
│  ── 조건부 규칙 (위에서부터 우선 적용) ──             │
│                                                     │
│  #1  IF iron ≥ 8000 AND copper ≥ 3000               │
│      THEN Hermes + Standard            [지우기]     │
│                                                     │
│  #2  IF iron ≥ 15000 AND electronics ≥ 5000         │
│      THEN Atlas + Advanced              [지우기]     │
│                                                     │
│  #3  IF EP ≥ 200                                    │
│      THEN Selene + Elite                [지우기]     │
│                                                     │
│  ───────────────────────────────────────────────    │
│  조건: [iron ▼] [≥] [    ] AND [copper ▼] [≥] [   ]│
│  실행: [Argo  ▼] + [Standard ▼]        [추가하기]   │
└────────────────────────────────────────────────────┘
```

**전략적 의미:**
- 자원이 넉넉할 때 고급 로켓, 부족할 때 저급 로켓 → 자원 낭비 방지
- 달 발전 우선 전략: 고급 로켓 집중 (EP 많이 획득)
- 탐사 점수 우선 전략: 저급 로켓 다량 발사 (발사 횟수 보너스 활용)
- **병목**: 조건을 너무 높게 설정하면 자원이 쌓이는데도 조립이 안 됨

### 5.6 모듈 5: 연료 주입 자동화 (auto_fuel)

**해금 연구**: O5 `auto_fuel`

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 자동 주입 시작 | ON/OFF | — | ON | 조립 완료 시 자동으로 연료 주입 시작 |
| 목표 주입량 (%) | 슬라이더 | 25~100% | 100% | 이 비율까지 주입 |
| 최소 연료 유보량 | 숫자 입력 | 0~999999 | 0 | 연료 저장량이 이 이하면 주입 중단 |

**설정 예시:**
```
연료 주입 자동화                      [✓ ON]
┌────────────────────────────────────────────┐
│  자동 주입: [✓ ON]                          │
│  목표 주입량: ▓▓▓▓▓▓▓▓▓▓ 100%              │
│  최소 연료 유보: [  500 ]                    │
└────────────────────────────────────────────┘
```

**전략적 의미:**
- 목표 75%로 설정 → 빠르게 발사하지만 성능(altitude) 저하
- 유보량 설정 → 다음 로켓 연료도 미리 확보
- **병목**: 유보량 너무 높으면 영원히 주입 안 됨

### 5.7 모듈 6: 발사 통제 자동화 (auto_launch)

**해금 연구**: O6 `auto_launch`

D5의 4대 스펙 시스템과 직접 연동된다.

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 최소 전체 성공률 (%) | 숫자 입력 | 0~99 | 50 | 이 미만이면 발사 보류 |
| 최소 단계별 성공률 (%) | 숫자 입력 | 0~99 | 0 | 모든 단계가 이 이상이어야 발사 |
| 최소 EP 기대치 | 숫자 입력 | 0~999 | 0 | 예상 EP 획득이 이 이상이어야 발사 |
| 발사 간 최소 대기 (초) | 숫자 입력 | 0~3600 | 0 | 연속 발사 간 쿨다운 |
| 실패 시 자동 재시도 | ON/OFF | — | ON | 발사 실패 후 자동으로 다음 로켓 준비 |

**설정 예시:**
```
발사 통제 자동화                      [✓ ON]
┌────────────────────────────────────────────────────┐
│  최소 전체 성공률:   [ 70 ]%                         │
│  최소 단계별 성공률: [ 90 ]%                         │
│  최소 EP 기대치:     [  5 ]                          │
│  발사 간 최소 대기:  [ 10 ] 초                       │
│  실패 시 자동 재시도: [✓ ON]                         │
│                                                     │
│  ── 현재 대기 중인 로켓 ──                           │
│  Atlas MK3 | 성공률: 89.1% | 예상 EP: 12 | ✓ 발사가능│
└────────────────────────────────────────────────────┘
```

**전략적 의미:**
- 최소 성공률 90%: 안전 위주 → 자원 손실 최소화, 발사 빈도 낮음
- 최소 성공률 30%: 공격적 → 많이 발사하고 많이 실패, 발사 횟수 보너스 축적
- EP 기대치 설정: 저가치 발사 필터링
- **트레이드오프**: 높은 기준 = 안전하지만 느림 / 낮은 기준 = 빠르지만 자원 소모

### 5.8 모듈 7: 연구 큐 자동화 (auto_research)

**해금 연구**: O7 `auto_research`

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 연구 우선순위 리스트 | 드래그 정렬 | 미완료 연구 목록 | 비어있음 | 위에서부터 순서대로 연구 큐에 추가 |
| 최소 자원 유보량 | 자원별 숫자 | 0~999999 | 0 | 연구 비용 지불 후에도 이 양 유지 |
| 자동 큐 채우기 | ON/OFF | — | OFF | 큐에 빈 자리가 나면 리스트에서 자동 추가 |

**설정 예시:**
```
연구 큐 자동화                        [✓ ON]
┌────────────────────────────────────────────────────┐
│  자동 큐 채우기: [✓ ON]                              │
│                                                     │
│  ── 연구 우선순위 (위부터 순서대로 큐에 추가) ──      │
│  #1  광석 처리 공법    (1500 RP + 1000 Fe)  [×]     │
│  #2  관성 항법 (INS)   (2500 RP + 500 Elec) [×]    │
│  #3  터보펌프 기초      (1500 RP + 500 Fuel) [×]    │
│  #4  CFRP 적층         (2500 RP + 800 Fe)   [×]    │
│                                                     │
│  ── 자원 유보량 ──                                   │
│  Research: [ 1000 ]  Electronics: [  200 ]          │
│                                                     │
│  현재 큐: [광석 처리 공법 ▓▓▓░ 62%] [관성 항법 대기]  │
└────────────────────────────────────────────────────┘
```

**전략적 의미:**
- 연구 순서를 전략적으로 설정: 추진 연구 우선 → 높은 성공률 빠르게 달성
- 유보량 설정: 연구 비용으로 부품 제작 자원을 다 써버리는 것 방지
- **병목**: 유보량 너무 높으면 연구가 무한 대기

### 5.9 모듈 8: 프레스티지 자동화 (auto_prestige)

**해금 연구**: O8 `auto_prestige` (최종 해금)

Revolution Idle의 프레스티지 자동화를 직접 차용한 핵심 모듈.

| 설정 항목 | 타입 | 범위 | 기본값 | 설명 |
|-----------|------|------|--------|------|
| 마스터 토글 | ON/OFF | — | OFF | — |
| 최소 EP 획득량 (+) | 숫자 입력 | 1~999999 | 100 | 프레스티지로 얻을 SS가 이 이상이어야 실행 |
| 최소 SS 배수 (×) | 소수 입력 | 1.00~99.00 | 2.00 | 현재 SS 대비 N배 이상 SS를 얻을 때만 실행 |
| 최소 경과 시간 (초) | 숫자 입력 | 0~36000 | 300 | 마지막 프레스티지로부터 최소 N초 경과 |
| 최소 발사 횟수 | 숫자 입력 | 0~999 | 10 | 현재 세션에서 최소 N회 발사 후 프레스티지 |

**조건 평가**: 모든 조건이 AND로 결합. 4개 조건 모두 충족 시에만 자동 프레스티지 실행.

**설정 예시:**
```
프레스티지 자동화                      [✓ ON]
┌────────────────────────────────────────────────────┐
│                                                     │
│  최소 EP 획득량 (+):  [ 50    ]                      │
│  최소 SS 배수   (×):  [ 1.50  ]                      │
│  최소 경과 시간 (초): [ 300   ]    (= 5분)           │
│  최소 발사 횟수:      [ 5     ]                      │
│                                                     │
│  ── 현재 상태 ──                                     │
│  EP 보유: 47           예상 SS 획득: +52             │
│  현재 SS: 128          배수: ×1.41 (목표 ×1.50 미달) │
│  경과 시간: 4분 12초   (목표 5분 미달)               │
│  세션 발사: 8회        (목표 5회 ✓ 충족)             │
│                                                     │
│  상태: ⏳ 대기 중 (SS 배수 + 경과 시간 미충족)       │
└────────────────────────────────────────────────────┘
```

**전략적 의미:**
- **빠른 리셋 전략**: 최소 EP=10, 배수=1.0, 시간=60초 → 짧은 주기 대량 프레스티지
- **느린 축적 전략**: 최소 EP=500, 배수=3.0, 시간=1800초 → 한 번에 많은 SS 확보
- **밸런스드**: 적절한 중간값으로 효율적 SS 축적
- **병목**: 배수를 너무 높게 설정하면 영원히 프레스티지 안 함 → EP만 쌓이고 SS 전환 없음

---

## 6. 자동화 전략과 병목 설계

### 6.1 자원 흐름도와 병목 지점

```
[시민(인원)]
    │
    ├──→ [철광산] ──→ iron ─────┐
    ├──→ [구리광산] ──→ copper ──┤
    ├──→ [연료정제소] ──→ fuel ──┤──→ [부품 제작] ──→ parts
    ├──→ [전자부품] ──→ elec ───┘         │
    ├──→ [연구소] ──→ research ──→ [연구]  │
    └──→ [운영센터] ──→ money ──→ [건설]   │
                                          ▼
                                    [로켓 조립]
                                          │
                                    [연료 주입]
                                          │
                                    [발사] ──→ EP
                                                │
                                          [프레스티지] ──→ SS ──→ 생산 배수 ↑
```

### 6.2 병목 시나리오

| 잘못된 설정 | 병목 현상 | 해결 힌트 |
|-------------|-----------|-----------|
| 인원 배치: 철 80%, 나머지 5%씩 | 철은 넘치지만 전자부품 없어서 고급 부품 제작 불가 | 전자부품 비율 최소 15% |
| 건설: 주거시설 우선순위 최하위 | 시민 부족 → 모든 생산 정체 | 주거시설 우선순위 3위 이내 |
| 부품: 유보량 iron 10000 | 자원이 충분한데도 부품 안 만들어짐 | 유보량을 현재 생산량의 10% 이하로 |
| 조립: 조건 "iron ≥ 50000" | 조건 충족까지 아무것도 안 함 | 기본 클래스로 저급 로켓이라도 발사 |
| 발사: 최소 성공률 95% | 초기에는 발사 자체가 안 됨 | 성공률 50%로 시작, 점진적 상향 |
| 프레스티지: 배수 ×10.0 | 영원히 프레스티지 안 함 | 배수 ×1.5~2.0이 효율적 |

### 6.3 전략 프리셋 (선택적 구현)

초보 플레이어를 위해 **전략 프리셋**을 제공할 수 있다.

| 프리셋 | 설명 | 핵심 설정 |
|--------|------|-----------|
| **균형형** | 모든 자원 고르게, 중간 속도 | 인원 균등, 성공률 60%, 프레스티지 ×2.0 |
| **속공형** | 빠른 발사 회전, 낮은 품질 | 저급 로켓 다량, 성공률 30%, 프레스티지 ×1.2 |
| **정밀형** | 고품질 소수 발사, 높은 EP | 고급 로켓 집중, 성공률 85%, 프레스티지 ×3.0 |
| **사용자 정의** | 모든 설정 수동 조절 | — |

### 6.4 두 가지 엔드게임 전략

자동화 설정을 통해 플레이어는 두 가지 장기 전략 중 선택할 수 있다:

#### 전략 A: 달 발전 우선 (Deep Moon)

- **목표**: 최고급 로켓으로 높은 EP 획득 → 한 번의 프레스티지로 대량 SS
- **조립 설정**: Atlas/Selene + Advanced/Elite 고정
- **발사 설정**: 최소 성공률 80%, 최소 EP 기대치 15
- **프레스티지**: 배수 ×3.0, 시간 30분+
- **특징**: 느리지만 한 번에 큰 SS 획득. 연구와 자원 투자가 중요

#### 전략 B: 대량 탐사 (Mass Explorer)

- **목표**: 저급 로켓 다량 발사 → 발사 횟수 보너스 + 빈번한 프레스티지
- **조립 설정**: Vega/Argo + Proto/Standard, 조건부 규칙 없음
- **발사 설정**: 최소 성공률 30%, EP 기대치 0
- **프레스티지**: 배수 ×1.2, 시간 3분
- **특징**: 빠른 회전으로 SS를 조금씩 자주 획득. 자원 효율이 핵심

---

## 7. UI 레이아웃

### 7.1 Automation 탭 전체 구조

```
┌── AUTOMATION ─────────────────────────────────────────────────────────┐
│                                                                       │
│  [전체 자동화 ON/OFF]              [프리셋: ▼ 사용자 정의]             │
│  ═══════════════════════════════════════════════════════════════════  │
│                                                                       │
│  ┌─ 사이드바 ──┐  ┌─ 메인 패널 ────────────────────────────────────┐ │
│  │             │  │                                                │ │
│  │ ⚙ 인원 배치 │  │  (선택된 모듈의 세부 설정이 여기 표시)          │ │
│  │ 🏗 건설 관리 │  │                                                │ │
│  │ 🔧 부품 제작 │  │                                                │ │
│  │ 🚀 로켓 조립 │  │                                                │ │
│  │ ⛽ 연료 주입 │  │                                                │ │
│  │ 📡 발사 통제 │  │                                                │ │
│  │ 🔬 연구 큐   │  │                                                │ │
│  │ ★ 프레스티지 │  │                                                │ │
│  │             │  │                                                │ │
│  │ ── 통계 ── │  │                                                │ │
│  │ 📊 자동화   │  │                                                │ │
│  │    대시보드  │  │                                                │ │
│  │             │  │                                                │ │
│  └─────────────┘  └────────────────────────────────────────────────┘ │
│                                                                       │
└───────────────────────────────────────────────────────────────────────┘
```

### 7.2 모듈 상태 표시 (사이드바)

각 모듈은 사이드바에서 현재 상태를 한눈에 보여준다:

```
┌─ 사이드바 ──────────┐
│                      │
│  ✓ 인원 배치    5/10 │  ← 활성, 배치된/총 인원
│  ✓ 건설 관리     3동 │  ← 활성, 이번 세션 건설 수
│  ✓ 부품 제작  32/50  │  ← 활성, hull 진행 표시
│  ⏸ 로켓 조립  대기중 │  ← 일시정지(조건 미충족)
│  ✓ 연료 주입    72%  │  ← 활성, 현재 주입률
│  ⏸ 발사 통제  89.1%  │  ← 대기(성공률 표시)
│  ✓ 연구 큐    2/3    │  ← 활성, 큐 사용량
│  ⏳ 프레스티지 47 EP  │  ← 대기, 현재 EP
│                      │
│  ── 잠김 ──          │
│  🔒 연료 주입        │  ← 미연구
│  🔒 발사 통제        │
│  🔒 연구 큐          │
│  🔒 프레스티지       │
└──────────────────────┘
```

- **✓ 초록**: 활성, 정상 동작 중
- **⏸ 노랑**: 활성이지만 조건 미충족으로 대기
- **⏳ 회색**: 활성, 조건 충족까지 대기 중
- **🔒 잠김**: 연구 미완료

### 7.3 자동화 대시보드 (통계)

```
┌── 자동화 대시보드 ───────────────────────────────────────┐
│                                                          │
│  ── 이번 세션 통계 ──                                     │
│  발사 횟수: 23    성공: 18 (78%)    실패: 5              │
│  획득 EP: 156     예상 SS: +171                          │
│  경과 시간: 12분 34초                                     │
│                                                          │
│  ── 자원 흐름 (최근 1분) ──                               │
│  Iron:    +45/min  (소비 32/min)  순: +13               │
│  Copper:  +22/min  (소비 18/min)  순: +4                │
│  Fuel:    +30/min  (소비 28/min)  순: +2   ⚠ 병목 경고  │
│  Elec:    +18/min  (소비 12/min)  순: +6                │
│  Money:   +8K/min  (소비 5K/min)  순: +3K               │
│                                                          │
│  ── 병목 경고 ──                                          │
│  ⚠ Fuel 순 생산이 +2/min으로 낮습니다.                    │
│    → 연료정제소 인원 비율을 올리거나 건설을 추가하세요.    │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 7.4 인더스트리얼 우주 테마 적용

기존 MoonIdle 디자인 언어를 유지:

| 요소 | 스타일 |
|------|--------|
| 패널 배경 | `#1a1a2e` (딥 네이비) |
| 활성 모듈 | 시안 보더 `#00d4ff` |
| 비활성 모듈 | 회색 보더 `#444` |
| 경고/병목 | 오렌지 `#ff6b35` |
| 프레스티지 | 골드/앰버 `#ffd700` |
| 슬라이더 트랙 | `#333` 배경, `#00d4ff` 채움 |
| 숫자 입력 | 모노스페이스, 시안 텍스트 |

---

## 8. 밸런스 수치 테이블

### 8.1 `BALANCE.AUTO_MODULES` (신규)

```javascript
BALANCE.AUTO_MODULES = {
  worker:    { researchId: 'auto_worker',    tier: 1 },
  build:     { researchId: 'auto_build',     tier: 2 },
  parts:     { researchId: 'auto_parts',     tier: 3 },
  assembly:  { researchId: 'auto_assembly',  tier: 4 },
  fuel:      { researchId: 'auto_fuel',      tier: 5 },
  launch:    { researchId: 'auto_launch',    tier: 6 },
  research:  { researchId: 'auto_research',  tier: 7 },
  prestige:  { researchId: 'auto_prestige',  tier: 8 },
};
```

### 8.2 `BALANCE.PRESTIGE` (신규)

```javascript
BALANCE.PRESTIGE = {
  // EP → SS 변환
  baseConversion: 1.0,        // 기본 EP:SS = 1:1
  prestigeCountBonus: 0.1,    // 프레스티지 횟수당 log2 보너스 계수

  // SS → 생산 배수
  ssMultiplier: 0.05,         // SS당 생산 배수 증가 (SS 20 = ×2.0)

  // 프레스티지 시 유지 항목
  keepResearch: true,         // 연구 유지 (옵션 A)
  keepAutomation: true,       // 자동화 설정 유지
  keepMilestones: true,       // 마일스톤 유지

  // 프레스티지 시 리셋 항목
  resetResources: true,
  resetBuildings: true,       // 주거시설 1동은 유지
  resetParts: true,
  resetLaunches: true,
  resetEP: true,
  resetWorkers: true,
};
```

### 8.3 개편 Branch O 연구 비용 (balance-data.js)

```javascript
// UPGRADES 배열에 추가/교체
{ id:'auto_worker',   name:'인원 배치 자동화',  branch:'O', prereq:'hire_worker_1',
  cost:{research:1500, electronics:500}, time:1200,
  desc:'인원 자동 배치 시스템 해금. Automation 탭에서 건물별 인원 비율을 설정할 수 있다.' },

{ id:'auto_build',    name:'건설 관리 자동화',  branch:'O', prereq:'auto_worker',
  cost:{research:3000, electronics:1000, money:800}, time:1800,
  desc:'건설 자동 관리 시스템 해금. 건물 우선순위, 최대 수량, 예산 비율을 설정할 수 있다.' },

{ id:'auto_parts',    name:'부품 제작 자동화',  branch:'O', prereq:'auto_build',
  cost:{research:6000, electronics:2000, iron:1000}, time:3000,
  desc:'부품 자동 제작 시스템 해금. 부품별 목표 수량, 우선순위, 자원 유보량을 설정할 수 있다.' },

{ id:'auto_assembly', name:'로켓 조립 자동화',  branch:'O', prereq:'auto_parts',
  cost:{research:12000, electronics:3000, copper:1500}, time:4800,
  desc:'로켓 조립 자동화 해금. 클래스/품질 선택, 조건부 규칙, 최소 성공률 기준을 설정할 수 있다.' },

{ id:'auto_fuel',     name:'연료 주입 자동화',  branch:'O', prereq:'auto_assembly',
  cost:{research:18000, electronics:4000, fuel:2000}, time:6000,
  desc:'연료 자동 주입 시스템 해금. 목표 주입량과 연료 유보량을 설정할 수 있다.' },

{ id:'auto_launch',   name:'발사 통제 자동화',  branch:'O', prereq:'auto_fuel',
  cost:{research:30000, electronics:8000}, time:9600,
  desc:'발사 자동 통제 시스템 해금. 최소 성공률, EP 기대치, 발사 간격을 설정할 수 있다.' },

{ id:'auto_research', name:'연구 큐 자동화',    branch:'O', prereq:'auto_launch',
  cost:{research:50000, electronics:12000}, time:14400,
  desc:'연구 자동 큐잉 시스템 해금. 연구 우선순위 리스트와 자원 유보량을 설정할 수 있다.' },

{ id:'auto_prestige', name:'프레스티지 자동화',  branch:'O', prereq:'auto_research',
  cost:{research:100000, electronics:25000, spaceScore:50}, time:21600,
  desc:'프레스티지 자동 실행 해금. 최소 EP, SS 배수, 경과 시간, 발사 횟수 조건을 설정할 수 있다.' },
```

### 8.4 `gs.autoConfig` 초기 상태 (game-state.js)

```javascript
gs.autoConfig = {
  worker: {
    enabled: false,
    ratios: {},          // { building_id: 0~100 }
    minIdleWorkers: 0,
    autoRedistribute: false,
  },
  build: {
    enabled: false,
    buildings: {},       // { building_id: { active: true, maxCount: 10 } }
    maxSpendRatio: 50,   // 보유 자금의 %
    priority: [],        // [building_id, ...] 우선순위 순서
    autoUpgrade: false,
    maxUpgradeLevel: 5,
  },
  parts: {
    enabled: false,
    targets: {},         // { part_id: target_count }
    reserves: {},        // { resource_id: min_amount }
    priority: [],        // [part_id, ...] 우선순위 순서
    continuousCraft: true,
  },
  assembly: {
    enabled: false,
    defaultClass: 'vega',
    defaultQuality: 'proto',
    rules: [],           // [{ conditions: [...], classId, qualityId }, ...]
    minSuccessRate: 0,
    autoFuelAfter: true,
  },
  fuel: {
    enabled: false,
    autoStart: true,
    targetPercent: 100,
    minFuelReserve: 0,
  },
  launch: {
    enabled: false,
    minOverallRate: 50,
    minStageRate: 0,
    minExpectedEP: 0,
    cooldownSec: 0,
    retryOnFail: true,
  },
  research: {
    enabled: false,
    priorityList: [],    // [research_id, ...]
    reserves: {},        // { resource_id: min_amount }
    autoQueue: false,
  },
  prestige: {
    enabled: false,
    minEPGain: 100,
    minSSMultiplier: 2.0,
    minTimeSec: 300,
    minLaunches: 10,
  },
};
```

---

## 9. 기존 시스템 호환성

### 9.1 AUTOMATION_UPGRADES 마이그레이션

| 기존 항목 | 처리 |
|-----------|------|
| `ms_quick_workers` (+1 시민) | → 마일스톤 보상으로 이전 |
| `ms_early_boost` (×1.08 생산) | → 마일스톤 보상으로 이전 |
| `auto_build` ~ `auto_launch` | → Branch O 연구로 통합 (4.2절) |
| `auto_parts_*` (5종 개별) | → 단일 `auto_parts` 연구로 통합 |

### 9.2 기존 `gs.msUpgrades` / `gs.autoEnabled` 처리

```javascript
// 세이브 마이그레이션 (saveVersion vN → vN+1)
function migrateToNewAutomation(gs) {
  // 기존 구매 내역을 신규 시스템으로 변환
  if (gs.msUpgrades) {
    // 기존에 auto_build를 구매했다면, 신규 auto_build 연구를 완료 처리
    const legacyToNew = {
      'auto_build':    'auto_build',
      'auto_worker':   'auto_worker',
      'auto_launch':   'auto_launch',
      // ... 매핑 테이블
    };
    for (const [old, new_] of Object.entries(legacyToNew)) {
      if (gs.msUpgrades[old]) {
        gs.upgrades[new_] = true;
      }
    }
    // 기존 autoEnabled → autoConfig.*.enabled로 변환
    if (gs.autoEnabled) {
      for (const [key, val] of Object.entries(gs.autoEnabled)) {
        const module = legacyToNew[key]?.replace('auto_', '');
        if (module && gs.autoConfig[module]) {
          gs.autoConfig[module].enabled = val;
        }
      }
    }
    delete gs.msUpgrades;
    delete gs.autoEnabled;
  }
}
```

### 9.3 spaceScore 역할 변경

| | 기존 | 개편 |
|-|------|------|
| **획득** | 발사 성공 시 즉시 적립 | 프레스티지 시 EP→SS 변환 |
| **용도 1** | 자동화 구매 (AUTOMATION_UPGRADES) | 폐지 (연구로 대체) |
| **용도 2** | 생산 배수 (×1.07^n) | 생산 배수 (×(1 + SS×0.05)) |
| **신규 용도** | — | 프레스티지 자동화 연구 비용 (SS 50 필요) |

### 9.4 `explorationPoints` 신규 필드

```javascript
// gs 초기 상태에 추가
gs.explorationPoints = 0;   // 현재 세션 EP (프레스티지 시 리셋)
gs.totalSpaceScore = 0;     // 누적 SS 기록 (리셋 안 됨)
```

---

## 10. 구현 가이드 (프로그래밍팀장용)

### 10.1 구현 우선순위

| 순서 | 작업 | 파일 | 의존성 | 난이도 |
|------|------|------|--------|--------|
| 1 | 프레스티지 시스템 구현 (EP/SS 분리) | `game-state.js`, `launch.js` | 없음 | 중간 |
| 2 | `gs.autoConfig` 상태 구조 + 저장/로드 | `game-state.js`, `main.js` | #1 |낮음 |
| 3 | Branch O 연구 교체 (기존 → 신규 8개) | `balance-data.js` | 없음 | 낮음 |
| 4 | `AUTOMATION_UPGRADES` 제거 + 마이그레이션 | `balance-data.js`, `game-state.js` | #3 | 중간 |
| 5 | Automation 탭 UI 골격 (사이드바 + 메인 패널) | `automation.js` | #2, #3 | 중간 |
| 6 | 모듈 1~3 구현 (인원/건설/부품) | `automation.js` | #5 | 높음 |
| 7 | 모듈 4~6 구현 (조립/연료/발사) | `automation.js` | #6, D5 | 높음 |
| 8 | 모듈 7~8 구현 (연구/프레스티지) | `automation.js` | #1, #7 | 높음 |
| 9 | 자동화 대시보드 (통계/병목 경고) | `automation.js` | #6~8 | 중간 |
| 10 | 전략 프리셋 시스템 | `automation.js` | #6~8 | 낮음 |
| 11 | 세이브 마이그레이션 테스트 | `game-state.js` | #4 | 중간 |

### 10.2 D5 의존성

모듈 4(로켓 조립)와 모듈 6(발사 통제)은 **D5 발사 단계별 실패/성공 메카닉**이 구현된 상태를 전제로 한다:

- `computeSpecs()` → 4대 스펙 산출 → 조립 규칙의 "최소 성공률" 평가에 사용
- `getStageSuccessRate()` → 단계별 성공률 → 발사 자동화의 "최소 단계별 성공률" 평가에 사용
- `getRocketScience().overallRate` → 전체 성공률 → 조립/발사 조건 판단에 사용

### 10.3 데이터 저장 구조

```javascript
// localStorage에 저장되는 전체 구조 (간략)
{
  saveVersion: 'v3',      // 마이그레이션 버전 업
  // ... 기존 gs 필드 ...
  explorationPoints: 0,   // 신규: 현재 세션 EP
  totalSpaceScore: 0,     // 신규: 누적 SS
  autoConfig: { ... },    // 신규: 자동화 세부 설정 (8.4절)
  // 삭제: msUpgrades, autoEnabled (마이그레이션으로 변환)
}
```

### 10.4 자동화 실행 주기

기존 `runAutomation()`의 슬로우/패스트 틱 구조를 유지하되, 모듈별로 분리:

```javascript
// automation.js
function runAutomation() {
  const cfg = gs.autoConfig;
  const slow = (_autoTickCounter % AUTO_INTERVAL_SLOW === 0);
  const fast = (_autoTickCounter % AUTO_INTERVAL_FAST === 0);

  if (slow) {
    if (cfg.worker.enabled)   runAutoWorker(cfg.worker);
    if (cfg.build.enabled)    runAutoBuild(cfg.build);
    if (cfg.research.enabled) runAutoResearch(cfg.research);
  }
  if (fast) {
    if (cfg.parts.enabled)    runAutoParts(cfg.parts);
    if (cfg.assembly.enabled) runAutoAssembly(cfg.assembly);
    if (cfg.fuel.enabled)     runAutoFuel(cfg.fuel);
    if (cfg.launch.enabled)   runAutoLaunch(cfg.launch);
  }
  // 프레스티지는 별도 주기 (10초마다 체크)
  if (_autoTickCounter % 50 === 0) {
    if (cfg.prestige.enabled) runAutoPrestige(cfg.prestige);
  }
  _autoTickCounter++;
}
```

---

## 부록 A: Revolution Idle 비교 분석

| 요소 | Revolution Idle | MoonIdle 적용 |
|------|-----------------|---------------|
| 색깔 구매 자동화 (% 임계값) | 각 색깔별 구매 비율 설정 | 건물별 건설 우선순위 + 인원 비율 |
| 승천 자동화 (색깔별 토글) | 어떤 색깔을 승천할지 선택 | 로켓 클래스별 조건부 조립 규칙 |
| 프레스티지 자동화 (최소 획득/배수/시간) | 3개 조건 AND | 4개 조건 AND (EP/배수/시간/발사횟수) |
| 프로모션 자동화 (번호/레벨/시간) | 프로모션 큐 관리 | 연구 큐 자동화 (우선순위/비용/시간) |
| 전체 비활성화 | 섹션별 비활성화 버튼 | 모듈별 마스터 토글 + 전체 자동화 ON/OFF |

## 부록 B: EP/SS 밸런싱 시뮬레이션

### 첫 프레스티지까지의 예상 경로

| 단계 | 시점 (분) | 행동 | EP 누적 | SS |
|------|-----------|------|---------|-----|
| 초기 | 0~5 | 건설, 자원 확보 | 0 | 0 |
| 첫 발사 | 10~15 | Vega+Proto 첫 발사 (자동 성공) | 3 | 0 |
| 반복 발사 | 15~30 | Vega 3~5회 발사 | 12 | 0 |
| 업그레이드 | 30~45 | Argo+Proto 전환 | 25 | 0 |
| 첫 프레스티지 | 45~60 | EP 30+ 축적, 수동 프레스티지 | 0→SS 30 | 30 |
| 2회차 시작 | 60~ | SS 30 → ×2.5 생산 배수 | — | 30 |

## 부록 C: 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| v1.0 | 2026-02-23 | 초안 작성 |
